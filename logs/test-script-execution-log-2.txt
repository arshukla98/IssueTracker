2025-09-29 11:47:26,418 [INFO] conftest: ==== Pytest logging started ====
2025-09-29 11:47:26,419 [INFO] conftest: Log file: /var/lib/jenkins/workspace/01_TC_Gen/log/test_run_20250929_114726.txt
2025-09-29 11:47:26,422 [INFO] root: pytest_configure: logging enabled to /var/lib/jenkins/workspace/01_TC_Gen/log/test_run_20250929_114726.txt
2025-09-29 11:47:26,531 [INFO] root: STARTING TEST: src/test_api.py::test_insert_valid_document
2025-09-29 11:47:26,532 [INFO] test_api: test_insert_valid_document::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000001', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 'aziron_mcp', 'MONGO_COLLECTION': 'postman_test', 'document': {'level': 'INFO', 'message': 'Test insert success', 'timestamp': '2025-09-18T12:00:00Z', 'app_name': 'api_test', 'severity': 2, 'tags': ['api', 'insert']}}}
2025-09-29 11:47:26,546 [INFO] test_api: test_insert_valid_document::status : 200
2025-09-29 11:47:26,547 [INFO] test_api: test_insert_valid_document::result : {'success': True, 'result': {'collection': 'postman_test', 'database': 'aziron_mcp', 'document': {'_inserted_at': '2025-09-29T06:17:26.482818043Z', '_user_id': '00000000-0000-0000-0000-000000000001', 'app_name': 'api_test', 'level': 'INFO', 'message': 'Test insert success', 'severity': 2, 'tags': ['api', 'insert'], 'timestamp': '2025-09-18T12:00:00Z'}, 'inserted_id': '68da24760826d77262c6f1d1', 'mongo_uri': 'mongodb://admin:aziron123@172.30.47.194:27017', 'timestamp': '2025-09-29T06:17:26Z', 'user_id': '00000000-0000-0000-0000-000000000001'}, 'tool_name': 'mongo_insert', 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,547 [INFO] root: PASSED: src/test_api.py::test_insert_valid_document
2025-09-29 11:47:26,548 [INFO] root: STARTING TEST: src/test_api.py::test_insert_with_different_severity
2025-09-29 11:47:26,549 [INFO] test_api: test_insert_with_different_severity::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000001', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 'aziron_mcp', 'MONGO_COLLECTION': 'postman_test', 'document': {'level': 'DEBUG', 'message': 'Severity level test', 'timestamp': '2025-09-18T13:00:00Z', 'app_name': 'api_test', 'severity': 5, 'tags': ['debug', 'severity']}}}
2025-09-29 11:47:26,556 [INFO] test_api: test_insert_with_different_severity::status : 200
2025-09-29 11:47:26,556 [INFO] test_api: test_insert_with_different_severity::result : {'success': True, 'result': {'collection': 'postman_test', 'database': 'aziron_mcp', 'document': {'_inserted_at': '2025-09-29T06:17:26.495003357Z', '_user_id': '00000000-0000-0000-0000-000000000001', 'app_name': 'api_test', 'level': 'DEBUG', 'message': 'Severity level test', 'severity': 5, 'tags': ['debug', 'severity'], 'timestamp': '2025-09-18T13:00:00Z'}, 'inserted_id': '68da24760826d77262c6f1d2', 'mongo_uri': 'mongodb://admin:aziron123@172.30.47.194:27017', 'timestamp': '2025-09-29T06:17:26Z', 'user_id': '00000000-0000-0000-0000-000000000001'}, 'tool_name': 'mongo_insert', 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,557 [INFO] root: PASSED: src/test_api.py::test_insert_with_different_severity
2025-09-29 11:47:26,557 [INFO] root: STARTING TEST: src/test_api.py::test_insert_with_multiple_tags
2025-09-29 11:47:26,558 [INFO] test_api: test_insert_with_multiple_tags::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000001', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 'aziron_mcp', 'MONGO_COLLECTION': 'postman_test', 'document': {'level': 'WARN', 'message': 'Testing multiple tags', 'timestamp': '2025-09-18T15:00:00Z', 'app_name': 'tag_test', 'severity': 4, 'tags': ['warn', 'edge-case', 'tag-test']}}}
2025-09-29 11:47:26,563 [INFO] test_api: test_insert_with_multiple_tags::status : 200
2025-09-29 11:47:26,563 [INFO] test_api: test_insert_with_multiple_tags::result : {'success': True, 'result': {'collection': 'postman_test', 'database': 'aziron_mcp', 'document': {'_inserted_at': '2025-09-29T06:17:26.502207685Z', '_user_id': '00000000-0000-0000-0000-000000000001', 'app_name': 'tag_test', 'level': 'WARN', 'message': 'Testing multiple tags', 'severity': 4, 'tags': ['warn', 'edge-case', 'tag-test'], 'timestamp': '2025-09-18T15:00:00Z'}, 'inserted_id': '68da24760826d77262c6f1d3', 'mongo_uri': 'mongodb://admin:aziron123@172.30.47.194:27017', 'timestamp': '2025-09-29T06:17:26Z', 'user_id': '00000000-0000-0000-0000-000000000001'}, 'tool_name': 'mongo_insert', 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,564 [INFO] root: PASSED: src/test_api.py::test_insert_with_multiple_tags
2025-09-29 11:47:26,564 [INFO] root: STARTING TEST: src/test_api.py::test_insert_with_large_document
2025-09-29 11:47:26,565 [INFO] test_api: test_insert_with_large_document::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000002', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 'aziron_mcp', 'MONGO_COLLECTION': 'postman_test', 'document': {'level': 'INFO', 'message': 'Large payload test', 'timestamp': '2025-09-18T18:00:00Z', 'app_name': 'payload_test', 'severity': 3, 'tags': ['large', 'insert'], 'extra_field1': 'value1', 'extra_field2': 'value2', 'extra_field3': 'value3', 'nested': {'key': 'value'}}}}
2025-09-29 11:47:26,571 [INFO] test_api: test_insert_with_large_document::status : 200
2025-09-29 11:47:26,571 [INFO] test_api: test_insert_with_large_document::result : {'success': True, 'result': {'collection': 'postman_test', 'database': 'aziron_mcp', 'document': {'_inserted_at': '2025-09-29T06:17:26.509922244Z', '_user_id': '00000000-0000-0000-0000-000000000002', 'app_name': 'payload_test', 'extra_field1': 'value1', 'extra_field2': 'value2', 'extra_field3': 'value3', 'level': 'INFO', 'message': 'Large payload test', 'nested': {'key': 'value'}, 'severity': 3, 'tags': ['large', 'insert'], 'timestamp': '2025-09-18T18:00:00Z'}, 'inserted_id': '68da24760826d77262c6f1d4', 'mongo_uri': 'mongodb://admin:aziron123@172.30.47.194:27017', 'timestamp': '2025-09-29T06:17:26Z', 'user_id': '00000000-0000-0000-0000-000000000002'}, 'tool_name': 'mongo_insert', 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,572 [INFO] root: PASSED: src/test_api.py::test_insert_with_large_document
2025-09-29 11:47:26,572 [INFO] root: STARTING TEST: src/test_api.py::test_insert_with_empty_tags
2025-09-29 11:47:26,573 [INFO] test_api: test_insert_with_empty_tags::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000002', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 'aziron_mcp', 'MONGO_COLLECTION': 'postman_test', 'document': {'level': 'INFO', 'message': 'No tags included', 'timestamp': '2025-09-18T19:00:00Z', 'app_name': 'empty_tags_test', 'severity': 2, 'tags': []}}}
2025-09-29 11:47:26,577 [INFO] test_api: test_insert_with_empty_tags::status : 200
2025-09-29 11:47:26,577 [INFO] test_api: test_insert_with_empty_tags::result : {'success': True, 'result': {'collection': 'postman_test', 'database': 'aziron_mcp', 'document': {'_inserted_at': '2025-09-29T06:17:26.516541676Z', '_user_id': '00000000-0000-0000-0000-000000000002', 'app_name': 'empty_tags_test', 'level': 'INFO', 'message': 'No tags included', 'severity': 2, 'tags': [], 'timestamp': '2025-09-18T19:00:00Z'}, 'inserted_id': '68da24760826d77262c6f1d5', 'mongo_uri': 'mongodb://admin:aziron123@172.30.47.194:27017', 'timestamp': '2025-09-29T06:17:26Z', 'user_id': '00000000-0000-0000-0000-000000000002'}, 'tool_name': 'mongo_insert', 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,578 [INFO] root: PASSED: src/test_api.py::test_insert_with_empty_tags
2025-09-29 11:47:26,578 [INFO] root: STARTING TEST: src/test_api.py::test_insert_with_future_timestamp
2025-09-29 11:47:26,579 [INFO] test_api: test_insert_with_future_timestamp::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000002', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 'aziron_mcp', 'MONGO_COLLECTION': 'postman_test', 'document': {'level': 'DEBUG', 'message': 'Future timestamp entry', 'timestamp': '2125-01-01T00:00:00Z', 'app_name': 'future_test', 'severity': 4, 'tags': ['future', 'timestamp']}}}
2025-09-29 11:47:26,584 [INFO] test_api: test_insert_with_future_timestamp::status : 200
2025-09-29 11:47:26,584 [INFO] test_api: test_insert_with_future_timestamp::result : {'success': True, 'result': {'collection': 'postman_test', 'database': 'aziron_mcp', 'document': {'_inserted_at': '2025-09-29T06:17:26.523222057Z', '_user_id': '00000000-0000-0000-0000-000000000002', 'app_name': 'future_test', 'level': 'DEBUG', 'message': 'Future timestamp entry', 'severity': 4, 'tags': ['future', 'timestamp'], 'timestamp': '2125-01-01T00:00:00Z'}, 'inserted_id': '68da24760826d77262c6f1d6', 'mongo_uri': 'mongodb://admin:aziron123@172.30.47.194:27017', 'timestamp': '2025-09-29T06:17:26Z', 'user_id': '00000000-0000-0000-0000-000000000002'}, 'tool_name': 'mongo_insert', 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,584 [INFO] root: PASSED: src/test_api.py::test_insert_with_future_timestamp
2025-09-29 11:47:26,585 [INFO] root: STARTING TEST: src/test_api.py::test_insert_with_invalid_severity_type
2025-09-29 11:47:26,585 [INFO] test_api: test_insert_with_invalid_severity_type::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000003', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 'aziron_mcp', 'MONGO_COLLECTION': 'postman_test', 'document': {'level': 'ERROR', 'message': 'Invalid severity type', 'timestamp': '2025-09-18T20:00:00Z', 'app_name': 'invalid_severity_test', 'severity': 'high', 'tags': ['invalid', 'severity']}}}
2025-09-29 11:47:26,592 [INFO] test_api: test_insert_with_invalid_severity_type::status : 200
2025-09-29 11:47:26,592 [INFO] test_api: test_insert_with_invalid_severity_type::result : {'success': True, 'result': {'collection': 'postman_test', 'database': 'aziron_mcp', 'document': {'_inserted_at': '2025-09-29T06:17:26.530504066Z', '_user_id': '00000000-0000-0000-0000-000000000003', 'app_name': 'invalid_severity_test', 'level': 'ERROR', 'message': 'Invalid severity type', 'severity': 'high', 'tags': ['invalid', 'severity'], 'timestamp': '2025-09-18T20:00:00Z'}, 'inserted_id': '68da24760826d77262c6f1d7', 'mongo_uri': 'mongodb://admin:aziron123@172.30.47.194:27017', 'timestamp': '2025-09-29T06:17:26Z', 'user_id': '00000000-0000-0000-0000-000000000003'}, 'tool_name': 'mongo_insert', 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,592 [INFO] root: PASSED: src/test_api.py::test_insert_with_invalid_severity_type
2025-09-29 11:47:26,593 [INFO] root: STARTING TEST: src/test_api.py::test_insert_with_null_fields
2025-09-29 11:47:26,593 [INFO] test_api: test_insert_with_null_fields::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000004', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 'aziron_mcp', 'MONGO_COLLECTION': 'postman_test', 'document': {'level': None, 'message': 'Document with null field', 'timestamp': '2025-09-18T21:00:00Z', 'app_name': None, 'severity': 1, 'tags': ['null', 'field']}}}
2025-09-29 11:47:26,597 [INFO] test_api: test_insert_with_null_fields::status : 200
2025-09-29 11:47:26,597 [INFO] test_api: test_insert_with_null_fields::result : {'success': True, 'result': {'collection': 'postman_test', 'database': 'aziron_mcp', 'document': {'_inserted_at': '2025-09-29T06:17:26.536889829Z', '_user_id': '00000000-0000-0000-0000-000000000004', 'app_name': None, 'level': None, 'message': 'Document with null field', 'severity': 1, 'tags': ['null', 'field'], 'timestamp': '2025-09-18T21:00:00Z'}, 'inserted_id': '68da24760826d77262c6f1d8', 'mongo_uri': 'mongodb://admin:aziron123@172.30.47.194:27017', 'timestamp': '2025-09-29T06:17:26Z', 'user_id': '00000000-0000-0000-0000-000000000004'}, 'tool_name': 'mongo_insert', 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,597 [INFO] root: PASSED: src/test_api.py::test_insert_with_null_fields
2025-09-29 11:47:26,598 [INFO] root: STARTING TEST: src/test_api.py::test_insert_with_minimum_document
2025-09-29 11:47:26,598 [INFO] test_api: test_insert_with_minimum_document::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000004', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 'aziron_mcp', 'MONGO_COLLECTION': 'postman_test', 'document': {'message': 'Minimum fields test', 'timestamp': '2025-09-18T22:00:00Z'}}}
2025-09-29 11:47:26,603 [INFO] test_api: test_insert_with_minimum_document::status : 200
2025-09-29 11:47:26,603 [INFO] test_api: test_insert_with_minimum_document::result : {'success': True, 'result': {'collection': 'postman_test', 'database': 'aziron_mcp', 'document': {'_inserted_at': '2025-09-29T06:17:26.542396578Z', '_user_id': '00000000-0000-0000-0000-000000000004', 'message': 'Minimum fields test', 'timestamp': '2025-09-18T22:00:00Z'}, 'inserted_id': '68da24760826d77262c6f1d9', 'mongo_uri': 'mongodb://admin:aziron123@172.30.47.194:27017', 'timestamp': '2025-09-29T06:17:26Z', 'user_id': '00000000-0000-0000-0000-000000000004'}, 'tool_name': 'mongo_insert', 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,603 [INFO] root: PASSED: src/test_api.py::test_insert_with_minimum_document
2025-09-29 11:47:26,604 [INFO] root: STARTING TEST: src/test_api.py::test_insert_with_empty_document
2025-09-29 11:47:26,604 [INFO] test_api: test_insert_with_empty_document::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000005', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 'aziron_mcp', 'MONGO_COLLECTION': 'postman_test', 'document': {}}}
2025-09-29 11:47:26,610 [INFO] test_api: test_insert_with_empty_document::status : 200
2025-09-29 11:47:26,610 [INFO] test_api: test_insert_with_empty_document::result : {'success': True, 'result': {'collection': 'postman_test', 'database': 'aziron_mcp', 'document': {'_inserted_at': '2025-09-29T06:17:26.549439438Z', '_user_id': '00000000-0000-0000-0000-000000000005'}, 'inserted_id': '68da24760826d77262c6f1da', 'mongo_uri': 'mongodb://admin:aziron123@172.30.47.194:27017', 'timestamp': '2025-09-29T06:17:26Z', 'user_id': '00000000-0000-0000-0000-000000000005'}, 'tool_name': 'mongo_insert', 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,611 [INFO] root: PASSED: src/test_api.py::test_insert_with_empty_document
2025-09-29 11:47:26,611 [INFO] root: STARTING TEST: src/test_api.py::test_insert_with_invalid_timestamp_format
2025-09-29 11:47:26,612 [INFO] test_api: test_insert_with_invalid_timestamp_format::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000005', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 'aziron_mcp', 'MONGO_COLLECTION': 'postman_test', 'document': {'level': 'INFO', 'message': 'Bad timestamp format', 'timestamp': '18-09-2025 23:00', 'app_name': 'invalid_ts', 'severity': 2, 'tags': ['timestamp', 'invalid']}}}
2025-09-29 11:47:26,618 [INFO] test_api: test_insert_with_invalid_timestamp_format::status : 200
2025-09-29 11:47:26,618 [INFO] test_api: test_insert_with_invalid_timestamp_format::result : {'success': True, 'result': {'collection': 'postman_test', 'database': 'aziron_mcp', 'document': {'_inserted_at': '2025-09-29T06:17:26.555321134Z', '_user_id': '00000000-0000-0000-0000-000000000005', 'app_name': 'invalid_ts', 'level': 'INFO', 'message': 'Bad timestamp format', 'severity': 2, 'tags': ['timestamp', 'invalid'], 'timestamp': '18-09-2025 23:00'}, 'inserted_id': '68da24760826d77262c6f1db', 'mongo_uri': 'mongodb://admin:aziron123@172.30.47.194:27017', 'timestamp': '2025-09-29T06:17:26Z', 'user_id': '00000000-0000-0000-0000-000000000005'}, 'tool_name': 'mongo_insert', 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,619 [INFO] root: PASSED: src/test_api.py::test_insert_with_invalid_timestamp_format
2025-09-29 11:47:26,619 [INFO] root: STARTING TEST: src/test_api.py::test_insert_with_negative_severity_value
2025-09-29 11:47:26,620 [INFO] test_api: test_insert_with_negative_severity_value::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000006', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 'aziron_mcp', 'MONGO_COLLECTION': 'postman_test', 'document': {'level': 'ERROR', 'message': 'Negative severity value', 'timestamp': '2025-09-19T00:15:00Z', 'app_name': 'neg_test', 'severity': -5, 'tags': ['bad', 'severity']}}}
2025-09-29 11:47:26,626 [INFO] test_api: test_insert_with_negative_severity_value::status : 200
2025-09-29 11:47:26,626 [INFO] test_api: test_insert_with_negative_severity_value::result : {'success': True, 'result': {'collection': 'postman_test', 'database': 'aziron_mcp', 'document': {'_inserted_at': '2025-09-29T06:17:26.564104986Z', '_user_id': '00000000-0000-0000-0000-000000000006', 'app_name': 'neg_test', 'level': 'ERROR', 'message': 'Negative severity value', 'severity': -5, 'tags': ['bad', 'severity'], 'timestamp': '2025-09-19T00:15:00Z'}, 'inserted_id': '68da24760826d77262c6f1dc', 'mongo_uri': 'mongodb://admin:aziron123@172.30.47.194:27017', 'timestamp': '2025-09-29T06:17:26Z', 'user_id': '00000000-0000-0000-0000-000000000006'}, 'tool_name': 'mongo_insert', 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,626 [INFO] root: PASSED: src/test_api.py::test_insert_with_negative_severity_value
2025-09-29 11:47:26,627 [INFO] root: STARTING TEST: src/test_api.py::test_insert_with_mongo_db_as_number
2025-09-29 11:47:26,627 [INFO] test_api: test_insert_with_mongo_db_as_number::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000006', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 12345, 'MONGO_COLLECTION': 'postman_test', 'document': {'level': 'CRITICAL', 'message': 'Bad DB type', 'timestamp': '2025-09-19T01:00:00Z', 'app_name': 'neg_test', 'severity': 5, 'tags': ['db', 'invalid']}}}
2025-09-29 11:47:26,630 [INFO] test_api: test_insert_with_mongo_db_as_number::status : 500
2025-09-29 11:47:26,630 [INFO] test_api: test_insert_with_mongo_db_as_number::result : {'error': 'Tool execution failed: MONGO_DB is required', 'status': 500, 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,659 [ERROR] root: FAILED: src/test_api.py::test_insert_with_mongo_db_as_number
2025-09-29 11:47:26,659 [ERROR] root: ----- Captured log call -----
INFO     test_api:test_api.py:339 test_insert_with_mongo_db_as_number::payload : {'tool_name': 'mongo_insert', 'parameters': {'user_id': '00000000-0000-0000-0000-000000000006', 'MONGO_URI': 'mongodb://admin:aziron123@172.30.47.194:27017', 'MONGO_DB': 12345, 'MONGO_COLLECTION': 'postman_test', 'document': {'level': 'CRITICAL', 'message': 'Bad DB type', 'timestamp': '2025-09-19T01:00:00Z', 'app_name': 'neg_test', 'severity': 5, 'tags': ['db', 'invalid']}}}
INFO     test_api:test_api.py:341 test_insert_with_mongo_db_as_number::status : 500
INFO     test_api:test_api.py:342 test_insert_with_mongo_db_as_number::result : {'error': 'Tool execution failed: MONGO_DB is required', 'status': 500, 'timestamp': '2025-09-29T06:17:26Z'}
2025-09-29 11:47:26,659 [ERROR] root: ----- LONGREPR -----
def test_insert_with_mongo_db_as_number():
        """TC-13: Negative - Invalid DB name type (int instead of string)"""
        payload = {
            "tool_name": "mongo_insert",
            "parameters": {
                "user_id": "00000000-0000-0000-0000-000000000006",
                "MONGO_URI": "mongodb://admin:aziron123@172.30.47.194:27017",
                "MONGO_DB": 12345,  # Invalid type
                "MONGO_COLLECTION": "postman_test",
                "document": {
                    "level": "CRITICAL",
                    "message": "Bad DB type",
                    "timestamp": "2025-09-19T01:00:00Z",
                    "app_name": "neg_test",
                    "severity": 5,
                    "tags": ["db", "invalid"]
                }
            }
        }
        logger.info("test_insert_with_mongo_db_as_number::payload : %s", payload)
        status, result = call_api(payload)
        logger.info("test_insert_with_mongo_db_as_number::status : %s", status)
        logger.info("test_insert_with_mongo_db_as_number::result : %s", result)
>       assert status == 200
E       assert 500 == 200

src/test_api.py:343: AssertionError
